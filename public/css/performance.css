/**
 * Performance Optimization CSS
 * Optimizes critical rendering path and Lighthouse scores
 */

/* ============================================
   CRITICAL RENDERING PATH OPTIMIZATION
   ============================================ */

/* Inline critical CSS for above-the-fold content */

/* Preload fonts with font-display: swap for better performance */
@font-face {
  font-family: 'Stop Famous';
  src: url('/fonts/StopFamousDemoRegular.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Krazy Nights';
  src: url('/fonts/KRAZYNIGHTS.TTF') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* ============================================
   LAYOUT SHIFT PREVENTION
   ============================================ */

/* Prevent Cumulative Layout Shift (CLS) */
html, body {
  width: 100%;
  height: auto;
}

/* Reserve space for images to prevent layout shift */
img {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Reserve space for videos */
video {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Reserve space for iframes */
iframe {
  display: block;
  max-width: 100%;
}

/* ============================================
   RENDERING OPTIMIZATION
   ============================================ */

/* Use will-change sparingly for high-performance animations */
.parallax-layer,
.fade-in-up.visible,
.fade-in-left.visible,
.fade-in-right.visible {
  will-change: transform;
}

/* Optimize button interactions */
button, .btn, a.cta-button {
  will-change: transform, box-shadow;
}

/* ============================================
   FONT OPTIMIZATION
   ============================================ */

/* System font stack for faster rendering */
body {
  font-family: 'Krazy Nights', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
}

/* Reduce font weight for better performance */
strong, b, .bold {
  font-weight: 600;
}

/* ============================================
   IMAGE OPTIMIZATION
   ============================================ */

/* Optimize lazy-loaded images */
img[data-src], img[data-lazy] {
  background: linear-gradient(90deg, rgba(0, 255, 200, 0.1) 25%, rgba(0, 255, 200, 0.05) 50%, rgba(0, 255, 200, 0.1) 75%);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

img.loaded {
  animation: none;
  background: none;
}

/* ============================================
   REDUCED MOTION SUPPORT
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  html {
    scroll-behavior: auto !important;
  }
}

/* ============================================
   MOBILE OPTIMIZATION
   ============================================ */

@media (max-width: 768px) {
  /* Reduce animations on mobile for better performance */
  .fade-in-up,
  .fade-in-left,
  .fade-in-right,
  .fade-in-scale {
    transition-duration: 0.4s;
  }

  /* Optimize touch targets */
  button, a.cta-button, .btn {
    min-height: 44px;
    min-width: 44px;
  }

  /* Disable parallax on mobile for better performance */
  .parallax-layer {
    will-change: auto;
  }
}

/* ============================================
   CRITICAL IMAGES PRELOAD
   ============================================ */

/* Preload hero image */
.hero-section .bg-image {
  content-visibility: auto;
}

/* ============================================
   PAINT OPTIMIZATION
   ============================================ */

/* Reduce paint areas */
.scroll-indicators {
  contain: layout style paint;
}

.mobile-menu-overlay {
  contain: layout style paint;
}

/* ============================================
   COMPOSITE OPTIMIZATION
   ============================================ */

/* Use transform and opacity for animations (GPU accelerated) */
.fade-in-up {
  transform: translateY(30px);
  opacity: 0;
}

.fade-in-up.visible {
  transform: translateY(0);
  opacity: 1;
}

/* ============================================
   RESOURCE HINTS
   ============================================ */

/* DNS Prefetch for external resources */
/* Add in HTML: <link rel="dns-prefetch" href="//example.com"> */

/* Preconnect to critical third-party origins */
/* Add in HTML: <link rel="preconnect" href="//fonts.googleapis.com"> */

/* ============================================
   ACCESSIBILITY OPTIMIZATION
   ============================================ */

/* Improve focus visibility for keyboard navigation */
button:focus-visible,
a:focus-visible,
input:focus-visible {
  outline: 2px solid var(--accent, #00FFC8);
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: more) {
  :root {
    --text: #ffffff;
    --accent: #00ffff;
  }
}
